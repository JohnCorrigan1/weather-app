(()=>{"use strict";function t(t){const e=document.querySelector(".city"),n=document.querySelector(".temp"),o=document.querySelector(".conditions"),i=document.querySelector(".feels-like"),c=document.querySelector(".high"),r=document.querySelector(".low");e.textContent=t.cityName+", "+t.country,n.textContent=t.currentTemp.toString()+"째",o.textContent="Conditions: "+t.conditions,i.textContent="Feels Like: "+t.feelsLike+"째",c.textContent="High: "+t.highTemp.toString()+"째",r.textContent="Low: "+t.lowTemp.toString()+"째"}class e{constructor(t,e,n,o,i,c,r){this.currentTemp=t,this.feelsLike=e,this.highTemp=n,this.lowTemp=o,this.cityName=i,this.conditions=c,this.country=r}}var n=function(t,e,n,o){return new(n||(n=Promise))((function(i,c){function r(t){try{u(o.next(t))}catch(t){c(t)}}function a(t){try{u(o.throw(t))}catch(t){c(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((o=o.apply(t,e||[])).next())}))};function o(o){return n(this,void 0,void 0,(function*(){try{const n=yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${o}&APPID=c5fe265671b668dfb0c7585215149ba1&units=imperial`),i=yield n.json(),c=Math.round(i.main.temp),r=Math.round(i.main.feels_like),a=Math.round(i.main.temp_max),u=Math.round(i.main.temp_min),l=i.name,m=i.weather[0].main,s=i.sys.country;t(new e(c,r,a,u,l,m,s))}catch(t){alert("Cannot find that city")}}))}function i(o){return n(this,void 0,void 0,(function*(){try{const n=yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${o}&APPID=c5fe265671b668dfb0c7585215149ba1&units=metric`),i=yield n.json(),c=Math.round(i.main.temp),r=Math.round(i.main.feels_like),a=Math.round(i.main.temp_max),u=Math.round(i.main.temp_min),l=i.name,m=i.weather[0].main,s=i.sys.country;t(new e(c,r,a,u,l,m,s))}catch(t){alert("Cannot find that city")}}))}const c=document.querySelector(".search-city"),r=document.querySelector(".city-input"),a=document.querySelector(".toggle");o("New York"),c&&c.addEventListener("click",(function(){const t=r.value;"F"===a.value?o(t):i(t)})),a.addEventListener("click",(function(){const t=document.querySelector(".city");let e=null==t?void 0:t.textContent,n=e.indexOf(",");e=e.slice(0,n),"F"===a.value?(a.value="C",i(e)):"C"===a.value&&(a.value="F",o(e))}))})();