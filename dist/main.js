(()=>{"use strict";function e(e){const t=document.querySelector(".city"),c=document.querySelector(".temp"),n=document.querySelector(".conditions"),a=document.querySelector(".feels-like"),o=document.querySelector(".high"),d=document.querySelector(".low");t.textContent=e.cityName+", "+e.country,c.textContent=e.currentTemp.toString()+"째",n.textContent="Conditions: "+e.conditions,a.textContent="Feels Like: "+e.feelsLike+"째",o.textContent="High: "+e.highTemp.toString()+"째",d.textContent="Low: "+e.lowTemp.toString()+"째",function(e){const t=e.conditions;document.body.style.backgroundImage="Thunderstorm"==t?"url(https://pixabay.com/get/g11d4b90a7890b95e8125661cffdf0af70e1439195bb00bf6d45e5048f2dd9fe022e1d6d56243a9278504165cce209e9797328a19342d0952e5dc828d6b24ed9c_1920.jpg)":"Drizzle"==t||"Rain"==t||"Mist"==t?"url(https://pixabay.com/get/g6790cf8bd2c41d04eb39eb4c70429c3df402057197672366c2a1f08266170a601397a2ba7172f747e29eb4b8392c8ad94b2ed47492d286fa410a74e7c90cb129_1920.jpg)":"Clear"==t?"url(https://pixabay.com/get/gc4f2a59bbc75271e22ef26d9fd0861cfc2a0c08607190f6d0746153025593eba667984f2bc94b5ed4ee9d61f42c266295e3e97adf6acbf6bd6b7d3577f7b013d_1920.jpg)":"Snow"==t?"url(https://pixabay.com/get/g103e9d3ce6e3bb4a70b87f9fb769ee785151951d806bbbcbd9530cc322a6ea24fba429162259ec4f1270e9829cce03d751b2c8d3aeef1dbdd0b85a0b90784b2f_1920.jpg)":"Clouds"==t?"url(https://pixabay.com/get/gc7b0a51e31af506063691bafd86eac174eb716de524fffeb756fa3855365dad3a5a68403497f592e71c9138ad4b225f54de3466a47b12a4cb3f07efd461363da_1920.jpg)":"Haze"==t||"Fog"==t?"url(https://pixabay.com/get/gb62376725bdd22d380ffae98879060559b5b7909081265b3c8c8ff4046606f48a5085b01b49e7c886e2685a3cfed487c5983049030dad7a2c741bbd7cbe7caab_1920.jpg)":"url(https://pixabay.com/get/gc4f2a59bbc75271e22ef26d9fd0861cfc2a0c08607190f6d0746153025593eba667984f2bc94b5ed4ee9d61f42c266295e3e97adf6acbf6bd6b7d3577f7b013d_1920.jpg)"}(e)}class t{constructor(e,t,c,n,a,o,d){this.currentTemp=e,this.feelsLike=t,this.highTemp=c,this.lowTemp=n,this.cityName=a,this.conditions=o,this.country=d}}var c=function(e,t,c,n){return new(c||(c=Promise))((function(a,o){function d(e){try{f(n.next(e))}catch(e){o(e)}}function i(e){try{f(n.throw(e))}catch(e){o(e)}}function f(e){var t;e.done?a(e.value):(t=e.value,t instanceof c?t:new c((function(e){e(t)}))).then(d,i)}f((n=n.apply(e,t||[])).next())}))};function n(n){return c(this,void 0,void 0,(function*(){const c=yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=c5fe265671b668dfb0c7585215149ba1&units=imperial`),a=yield c.json(),o=Math.round(a.main.temp),d=Math.round(a.main.feels_like),i=Math.round(a.main.temp_max),f=Math.round(a.main.temp_min),r=a.name,b=a.weather[0].main,u=a.sys.country;e(new t(o,d,i,f,r,b,u))}))}function a(n){return c(this,void 0,void 0,(function*(){const c=yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=c5fe265671b668dfb0c7585215149ba1&units=metric`),a=yield c.json(),o=Math.round(a.main.temp),d=Math.round(a.main.feels_like),i=Math.round(a.main.temp_max),f=Math.round(a.main.temp_min),r=a.name,b=a.weather[0].main,u=a.sys.country;e(new t(o,d,i,f,r,b,u)),console.log(a)}))}const o=document.querySelector(".search-city"),d=document.querySelector(".city-input"),i=document.querySelector(".toggle");n("New York"),o&&o.addEventListener("click",(function(){const e=d.value;"F"===i.value?n(e):a(e)})),i.addEventListener("click",(function(){const e=document.querySelector(".city");let t=null==e?void 0:e.textContent,c=t.indexOf(",");t=t.slice(0,c),"F"===i.value?(i.value="C",a(t)):"C"===i.value&&(i.value="F",n(t))}))})();